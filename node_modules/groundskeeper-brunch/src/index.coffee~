groundskeeper = require('groundskeeper')

module.exports = class CleanJs
  brunchPlugin: yes
  type: 'javascript'
  extension: 'js'

  constructor: (@config) ->
    #console.log @config
    return

  optimize: (data, path, callback) ->
    options =
    {
      debugger: true,
      pragmas: ['validation', 'development']
    }
    cleaner = groundskeeper(options)
    cleaner.write(data)
    callback null, cleaner.toString()